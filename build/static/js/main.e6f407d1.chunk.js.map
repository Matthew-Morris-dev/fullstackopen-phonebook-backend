{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","filter","onChange","handleChange","PersonForm","onSubmit","handleAddPerson","name","handleNameChange","number","handleNumberChange","type","Persons","contacts","deletePerson","map","person","onClick","id","Notification","notificationInfo","notificationStyle","notificationBaseStyle","background","fontSize","borderStyle","borderRadius","padding","marginBottom","notificationSuccessStyle","color","notificationErrorStyle","style","message","baseUrl","axios","get","then","response","data","post","console","log","put","request","delete","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","setNotificationInfo","useEffect","personsService","returnedPersons","personsToShow","toLowerCase","indexOf","handleUpdatePerson","some","oldPersonDetails","setTimeout","window","confirm","oldDetails","p","updatedPerson","returnedPerson","currentPerson","catch","error","event","target","preventDefault","newPerson","concat","personToDelete","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e6f407d1.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n        <div>\r\n            filter shown with <input value={props.filter} onChange={props.handleChange} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleAddPerson}>\r\n            <div>\r\n                name: <input value={props.name} onChange={props.handleNameChange} />\r\n            </div>\r\n            <div>\r\n                number: <input value={props.number} onChange={props.handleNumberChange} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Persons = ({ contacts, deletePerson }) => {\r\n    return (\r\n        <ul>\r\n            {contacts.map((person) => (\r\n                <li key={person.id}>\r\n                    {person.name} {person.number}{\" \"}\r\n                    <button\r\n                        onClick={() => {\r\n                            deletePerson(person);\r\n                        }}\r\n                    >\r\n                        delete\r\n                    </button>\r\n                </li>\r\n            ))}\r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default Persons;\r\n","const Notification = ({ notificationInfo }) => {\r\n    if (notificationInfo === null) {\r\n        return null;\r\n    }\r\n\r\n    const notificationBaseStyle = {\r\n        background: \"lightgrey\",\r\n        fontSize: 20,\r\n        borderStyle: \"solid\",\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    };\r\n\r\n    const notificationSuccessStyle = {\r\n        ...notificationBaseStyle,\r\n        color: \"green\"\r\n    };\r\n\r\n    const notificationErrorStyle = {\r\n        ...notificationBaseStyle,\r\n        color: \"red\"\r\n    };\r\n\r\n    let notificationStyle;\r\n    if (notificationInfo.type === \"success\") {\r\n        notificationStyle = notificationSuccessStyle;\r\n    } else if (notificationInfo.type === \"error\") {\r\n        notificationStyle = notificationErrorStyle;\r\n    } else {\r\n        return null;\r\n    }\r\n\r\n    return <div style={notificationStyle}>{notificationInfo.message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl);\r\n    return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (person) => {\r\n    const request = axios.post(baseUrl, person);\r\n    return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (person) => {\r\n    console.log(person);\r\n    const request = axios.put(`${baseUrl}/${person.id}`, person);\r\n    return request.then((request) => request.data);\r\n};\r\n\r\nconst deletePerson = (person) => {\r\n    const request = axios.delete(`${baseUrl}/${person.id}`);\r\n    return request.then((request) => request.data);\r\n};\r\n\r\nexport default { getAll, create, update, deletePerson };\r\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\nimport personsService from \"./services/persons\";\n\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n    const [newName, setNewName] = useState(\"\");\n    const [newNumber, setNewNumber] = useState(\"\");\n    const [newFilter, setNewFilter] = useState(\"\");\n    const [notificationInfo, setNotificationInfo] = useState(null);\n\n    const getPhonebook = () => {\n        personsService.getAll().then((returnedPersons) => {\n            setPersons(returnedPersons);\n        });\n    };\n\n    useEffect(getPhonebook, []);\n\n    const addPerson = (event) => {\n        event.preventDefault();\n        const newPerson = {\n            name: newName,\n            number: newNumber\n        };\n\n        if (persons.some((person) => person.name === newName)) {\n            handleUpdatePerson(newPerson);\n            return;\n        }\n\n        personsService.create(newPerson).then((returnedPerson) => {\n            setPersons(persons.concat(returnedPerson));\n            setNewName(\"\");\n            setNewNumber(\"\");\n            setNotificationInfo({\n                message: `Added ${returnedPerson.name}`,\n                type: \"success\"\n            });\n            setTimeout(() => {\n                setNotificationInfo(null);\n            }, 2000);\n        });\n    };\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value);\n    };\n\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value);\n    };\n\n    const handleFilterChange = (event) => {\n        setNewFilter(event.target.value);\n    };\n\n    const personsToShow = persons.filter((person) => person.name.toLowerCase().indexOf(newFilter.toLowerCase()) > -1);\n\n    const handleDeletePerson = (personToDelete) => {\n        let result = window.confirm(`Delete ${personToDelete.name}?`);\n        if (result) {\n            personsService.deletePerson(personToDelete).then((data) => {\n                setPersons(persons.filter((person) => person.id !== personToDelete.id));\n            });\n        }\n    };\n\n    const handleUpdatePerson = (person) => {\n        if (persons.some((oldPersonDetails) => oldPersonDetails.name === person.name && oldPersonDetails.number === person.number)) {\n            setNotificationInfo({\n                message: `${person.name} already exists in the phonebook with this number`,\n                type: \"error\"\n            });\n            setTimeout(() => {\n                setNotificationInfo(null);\n            }, 2000);\n            setNewName(\"\");\n            setNewNumber(\"\");\n            return;\n        }\n\n        const result = window.confirm(`${person.name} is already added to the phonebook, would you like to replace their old number with a new one?`);\n\n        if (result) {\n            const oldDetails = persons.filter((p) => p.name === person.name);\n\n            const updatedPerson = { ...oldDetails[0], number: newNumber };\n\n            personsService\n                .update(updatedPerson)\n                .then((returnedPerson) => {\n                    setPersons(persons.map((currentPerson) => (currentPerson.id !== returnedPerson.id ? currentPerson : returnedPerson)));\n                    setNotificationInfo({\n                        message: `Updated ${returnedPerson.name}'s number`,\n                        type: \"success\"\n                    });\n                    setTimeout(() => {\n                        setNotificationInfo(null);\n                    }, 2000);\n                })\n                .catch((error) => {\n                    setNotificationInfo({\n                        message: `Information of ${person.name} has already been removed from the server`,\n                        type: \"error\"\n                    });\n                    setTimeout(() => {\n                        setNotificationInfo(null);\n                    }, 2000);\n                });\n        }\n    };\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification notificationInfo={notificationInfo} />\n            <Filter filter={newFilter} handleChange={handleFilterChange} />\n            <PersonForm handleAddPerson={addPerson} name={newName} handleNameChange={handleNameChange} number={newNumber} handleNumberChange={handleNumberChange} />\n            <h2>Numbers</h2>\n            <Persons contacts={personsToShow} deletePerson={handleDeletePerson} />\n            {/* <ul>\n                {personsToShow.map((person) => (\n                    <li key={person.name}>\n                        {person.name} {person.number}\n                    </li>\n                ))}\n            </ul> */}\n        </div>\n    );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}